import { IPdfObjectParams, PdfObject } from "./object";

export interface IPdfStringParams extends IPdfObjectParams {
  value?: string;
}

export class PdfString extends PdfObject {
  #value: string;

  public constructor(param: IPdfStringParams = {}) {
    super(param);
    this.#value = param.value ?? "";
  }

  public get value(): string {
    return this.#value;
  }

  public set value(v: string) {
    if (v !== this.#value) {
      this.change();
      this.#value = v;
    }
  }

  protected override onSetValue(v: PdfString): void {
    this.#value = v.#value;
  }

  public toBinary(): Uint8Array {
    // TODO: Заменить на свой конвертер.
    return Buffer.from(this.value, "binary");
  }
}
