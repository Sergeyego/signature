import * as assert from "node:assert";
import { PdfBuffer } from "./buffer";

describe("PdfBuffer", function () {
  it("Проверка перезаписи и расширения буфера", function () {
    const b = new PdfBuffer(Buffer.from("hello world"));

    const sv1 = b.subarray(0, 5);
    const sv2 = b.subarray(6);

    assert.equal(sv1.toString(), "hello");
    assert.equal(sv2.toString(), "world");

    b.append(Buffer.from("!!!"));
    const sv3 = b.subarray(6);
    assert.equal(sv2.toString(), "world");
    assert.equal(sv3.toString(), "world!!!");
    const sv4 = b.subarray(6, 100);
    assert.equal(sv4.toString(), "world!!!");
  });
});

